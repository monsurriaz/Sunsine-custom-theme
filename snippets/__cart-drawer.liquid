<!-- This example requires Tailwind CSS v2.0+ -->
<div
  class="fixed inset-0 overflow-hidden z-20"
  x-data="{ showCartDrawer: false }"
  x-show="showCartDrawer"
  @toggle-cart.window="showCartDrawer = !showCartDrawer"
  aria-labelledby="slide-over-title"
  role="dialog"
  aria-modal="true"
>
  <div class="absolute inset-0 overflow-hidden">
    <div
      class="absolute inset-0 bg-gray-500 bg-opacity-75"
      x-show="showCartDrawer"
      x-transition.opacity
      @click="showCartDrawer = false"
      aria-hidden="true"
    ></div>
    <div class="fixed inset-y-0 right-0 max-w-full flex">
      <div
        class="relative w-screen max-w-md"
        x-show="showCartDrawer"
        x-transition:enter="transform transition ease-in-out duration-500 sm:duration-700"
        x-transition:enter-start="translate-x-full opacity-0"
        x-transition:enter-end="translate-x-0 opacity-100"
        x-transition:leave="transform transition ease-in-out duration-500 sm:duration-700"
        x-transition:leave-start="translate-x-0"
        x-transition:leave-end="translate-x-full opacity-0"
      >
        <div
          class="absolute top-0 left-0 -ml-8 pt-4 pr-2 flex sm:-ml-10 sm:pr-4"
        >
          <button
            type="button"
            @click="showCartDrawer = false"
            class="rounded-md text-white hover:text-white focus:outline-none focus:ring-2 focus:ring-white"
          >
            <span class="sr-only">Close panel</span>
            <!-- Heroicon name: outline/x -->
            <svg
              class="h-6 w-6"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>

        <div
          class="h-full flex flex-col py-6 bg-white shadow-xl overflow-y-scroll"
        >
          <div class="px-4 sm:px-6">
            <h3>Your Cart</h3>
          </div>
          <div class="mt-6 relative flex-1 px-4 sm:px-6">
            {% for item in cart.items %}
                <div class="cart__drawer-wrapper grid grid-cols-2">
                    <div class="product__image">
                        <img class="w-20" src="{{ item.image | img_url: '400x' }}" alt="{{ item.image.alt }}">
                    </div>
                    <div class="product__info">
                        <div class="product__title">
                            {{ item.product.title }}
                        </div>
                        <div class="product__quantity">
                            {{ item.quantity }}
                        </div>
                        <div class="product__price">
                            {{ item.price | money }}
                        </div>
                    </div>
                </div>
            {% endfor %}
            <div class="total__price text-right">
                Total: {{ cart.total_price | money }}
            </div>
            <a href="/cart" class="button__primary">Cart</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
